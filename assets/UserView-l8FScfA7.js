import{r as i,o as x,a as d,b as u,c as b,d as e,e as s,w as c,f as y,u as l,t as $,n as C,_ as j,F as h,g as E,h as S,i as _,j as V,k as L,l as M}from"./index-COQyUUYm.js";import{u as g}from"./userStore-CWTvoLgD.js";import"./sweetAlert-BQoRJUAf.js";const N={class:"border-b-[3px] border-primary py-3"},R={class:"container flex items-center justify-between"},z={class:"font-Paytone-One text-[26px]"},B={id:"userMenu",class:"relative"},U=["src"],F={class:"border-b-2 border-primary font-bold",style:{"font-family":"'Azeret Mono', 'Noto Sans TC', sans"}},A={__name:"NavComponent",setup(f){const o=g(),t=i(!1);function n(){t.value=!t.value}return x(()=>{document.querySelector("body").addEventListener("click",r=>{r.target.closest("#userMenu")||(t.value=!1)})}),(r,p)=>{const a=d("RouterLink");return u(),b("nav",N,[e("div",R,[e("h1",z,[s(a,{to:"/"},{default:c(()=>[y("MetaWall")]),_:1})]),e("div",B,[e("button",{type:"button",class:"flex min-w-[182px] items-center",onClick:n},[e("img",{src:l(o).user&&l(o).user.photo?l(o).user.photo:"/images/user_default.png",alt:"大頭貼",class:"mr-[10px] h-[30px] w-[30px] rounded-full border-2 border-primary"},null,8,U),e("p",F,$(l(o).user.name),1)]),e("ul",{class:C(["absolute left-0 right-0 top-full z-10 mt-2 text-center transition-all after:absolute after:-bottom-2 after:-right-2 after:left-2 after:top-2 after:-z-10 after:border-2 after:border-primary after:bg-white",{"pointer-events-none opacity-0 ":!t.value}])},[e("li",null,[e("button",{type:"button",onClick:n,class:"w-full border-x-2 border-t-2 border-primary bg-white py-2 hover:bg-gray-100"}," 我的貼文牆 ")]),e("li",null,[e("button",{type:"button",onClick:n,class:"w-full border-x-2 border-t-2 border-primary bg-white py-2 hover:bg-gray-100"}," 修改個人資料 ")]),e("li",null,[e("button",{type:"button",onClick:n,class:"w-full border-2 border-primary bg-white py-2 hover:bg-gray-100"}," 登出 ")])],2)])])])}}},D="/node-training-2024-front/images/user_default.png",T={},O={class:"hidden w-[36%] lg:block"},P={class:"border-2 border-primary bg-white px-6 py-8"},W=E('<button type="button" class="mb-4 flex w-full items-center gap-4 hover:text-secondary"><img src="'+D+'" alt="user-photo" class="h-[50px] w-[50px] rounded-full border-2 border-primary object-contain"><p class="font-bold">邊緣小杰</p></button><button type="button" class="aside-item mb-4 flex w-full items-center gap-4 hover:text-secondary"><div class="flex h-[50px] w-[50px] items-center justify-center rounded-full border-2 border-primary bg-[#E2EDFA]"><span class="material-symbols-outlined">notifications</span></div><p class="font-bold">追蹤名單</p></button><button type="button" class="aside-item flex w-full items-center gap-4 hover:text-secondary"><div class="flex h-[50px] w-[50px] items-center justify-center rounded-full border-2 border-primary bg-[#E2EDFA]"><span class="material-symbols-outlined">thumb_up</span></div><p class="font-bold">我按讚的文章</p></button>',3),q={class:"fixed bottom-3 left-0 right-0 mx-2 lg:hidden"},G={class:"container flex justify-center gap-6 rounded-[32px] border-[3px] border-primary bg-[#EFECE7] py-[6px]"},H=e("span",{class:"material-symbols-outlined font-medium text-primary"},"home",-1),I=e("div",{class:"flex h-[48px] w-[48px] items-center justify-center rounded-full border-[3px] border-primary bg-white"},[e("span",{class:"material-symbols-outlined font-medium text-primary"},"notifications")],-1),J=e("div",{class:"flex h-[48px] w-[48px] items-center justify-center rounded-full border-[3px] border-primary bg-white"},[e("span",{class:"material-symbols-outlined font-medium text-primary"},"thumb_up")],-1),K=e("span",{class:"material-symbols-outlined font-medium text-white"},"add",-1);function Q(f,o){const t=d("RouterLink");return u(),b(h,null,[e("aside",O,[e("nav",P,[s(t,{to:"/post/create",class:"w-100 mb-6 flex items-center justify-center rounded-lg border-2 border-primary bg-secondary py-4 font-bold text-white hover:bg-goldenrod hover:text-primary",style:{"box-shadow":"-2px 2px 0px #000400"}},{default:c(()=>[y(" 張貼動態 ")]),_:1}),W])]),e("nav",q,[e("div",G,[s(t,{to:"/",class:"flex h-[48px] w-[48px] items-center justify-center rounded-full border-[3px] border-primary bg-white"},{default:c(()=>[H]),_:1}),I,J,s(t,{to:"/post/create",class:"flex h-[48px] w-[48px] items-center justify-center rounded-full border-[3px] border-primary bg-secondary"},{default:c(()=>[K]),_:1})])])],64)}const X=j(T,[["render",Q]]),Y={class:"container flex justify-between gap-7 py-12"},Z={class:"w-full lg:w-[62%]"},re={__name:"UserView",setup(f){const o=S(),t=g(),n=i("/node-training-2024-front/"),r=i(!1),p=i(!1);return x(async()=>{const a=document.cookie.replace(/(?:(?:^|.*;\s*)MetaWallToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a?_.defaults.headers.common.authorization=`Bearer ${a}`:o.push("/sign/in"),r.value=!0;try{await _.post("https://node-training-2024.onrender.com/user/check"),await t.getUserProfile(),p.value=!0}catch{o.push("/sign/in")}r.value=!1}),(a,m)=>{const v=d("VueLoading"),w=d("RouterView");return u(),b(h,null,[s(v,{active:r.value,"onUpdate:active":m[0]||(m[0]=k=>r.value=k)},null,8,["active"]),s(A),e("div",{class:"min-h-[calc(100vh_-_66px)] bg-[length:36px_36px] sm:bg-[length:64px_64px]",style:M({"background-image":`url(${n.value}images/bg.svg)`})},[e("div",Y,[e("main",Z,[p.value?(u(),V(w,{key:0})):L("",!0)]),s(X)])],4)],64)}}};export{re as default};

import{D as p,r as d,h as i}from"./index-DGkBJbzT.js";import{s as l}from"./sweetAlert-CCyWe-_C.js";var m={VITE_API_URL:"http://127.0.0.1:3000",BASE_URL:"/node-training-2024-front/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:c}=m,h=p("user",()=>{const o=d({});async function u(){var s,a;try{const e=await i.get(`${c}/user/profile`);o.value=e.data.user}catch(e){l({icon:"error",title:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||e.message})}}async function f(s,a){var e,n;try{let t="",r=`${c}/post/${a}`;s?(t="delete",r=`${r}/unlike`):(t="post",r=`${r}/like`),await i[t](r)}catch(t){l({icon:"error",title:((n=(e=t.response)==null?void 0:e.data)==null?void 0:n.message)||t.message})}}return{user:o,getUserProfile:u,handleLikePost:f}});export{h as u};

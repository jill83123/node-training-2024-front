import{y as p,r as d,i}from"./index-COQyUUYm.js";import{s as l}from"./sweetAlert-BQoRJUAf.js";var m={VITE_API_URL:"https://node-training-2024.onrender.com",BASE_URL:"/node-training-2024-front/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:u,BASE_URL:_}=m,E=p("user",()=>{const s=d({});async function c(){var o,a;try{const e=await i.get(`${u}/user/profile`);s.value=e.data.user,s.value.photo||(s.value.photo=`${_}images/user_default.png`)}catch(e){l({icon:"error",title:((a=(o=e.response)==null?void 0:o.data)==null?void 0:a.message)||e.message})}}async function f(o,a){var e,n;try{let t="",r=`${u}/post/${a}`;o?(t="delete",r=`${r}/unlike`):(t="post",r=`${r}/like`),await i[t](r)}catch(t){l({icon:"error",title:((n=(e=t.response)==null?void 0:e.data)==null?void 0:n.message)||t.message})}}return{user:s,getUserProfile:c,handleLikePost:f}});export{E as u};
